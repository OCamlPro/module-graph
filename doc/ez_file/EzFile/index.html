<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>EzFile (ez_file.EzFile)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ez_file</a> &#x00BB; EzFile</nav><h1>Module <code>EzFile</code></h1></header><div class="spec module" id="module-OS"><a href="#module-OS" class="anchor"></a><code><span class="keyword">module</span> OS = <a href="../FileOS/index.html">FileOS</a></code></div><div class="spec module" id="module-Sig"><a href="#module-Sig" class="anchor"></a><code><span class="keyword">module</span> Sig = <a href="../FileSig/index.html">FileSig</a></code></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../FileString/index.html">FileString</a></code></span></summary><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../FileSig/index.html#module-type-FILE_OPERATIONS">FileSig.FILE_OPERATIONS</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../FileSig/module-type-FILE_OPERATIONS/index.html#type-t">t</a> := string</code></span></summary><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../FileSig/index.html#module-type-FILENAME_OPERATIONS">FileSig.FILENAME_OPERATIONS</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-concat"><a href="#val-concat" class="anchor"></a><code><span class="keyword">val</span> concat : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-is_absolute"><a href="#val-is_absolute" class="anchor"></a><code><span class="keyword">val</span> is_absolute : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_relative"><a href="#val-is_relative" class="anchor"></a><code><span class="keyword">val</span> is_relative : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_implicit"><a href="#val-is_implicit" class="anchor"></a><code><span class="keyword">val</span> is_implicit : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-add_suffix"><a href="#val-add_suffix" class="anchor"></a><code><span class="keyword">val</span> add_suffix : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-check_suffix"><a href="#val-check_suffix" class="anchor"></a><code><span class="keyword">val</span> check_suffix : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-cut_extension"><a href="#val-cut_extension" class="anchor"></a><code><span class="keyword">val</span> cut_extension : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string * string</code></dt><dt class="spec value" id="val-cut_extensions"><a href="#val-cut_extensions" class="anchor"></a><code><span class="keyword">val</span> cut_extensions : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string * <span>string list</span></code></dt><dt class="spec value" id="val-basename"><a href="#val-basename" class="anchor"></a><code><span class="keyword">val</span> basename : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-dirname"><a href="#val-dirname" class="anchor"></a><code><span class="keyword">val</span> dirname : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-add_path"><a href="#val-add_path" class="anchor"></a><code><span class="keyword">val</span> add_path : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-add_basename"><a href="#val-add_basename" class="anchor"></a><code><span class="keyword">val</span> add_basename : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-add_basenames"><a href="#val-add_basenames" class="anchor"></a><code><span class="keyword">val</span> add_basenames : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-current_dir_name"><a href="#val-current_dir_name" class="anchor"></a><code><span class="keyword">val</span> current_dir_name : <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-open_in"><a href="#val-open_in" class="anchor"></a><code><span class="keyword">val</span> open_in : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Stdlib.in_channel</code></dt><dt class="spec value" id="val-open_out"><a href="#val-open_out" class="anchor"></a><code><span class="keyword">val</span> open_out : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Stdlib.out_channel</code></dt><dt class="spec value" id="val-open_in_bin"><a href="#val-open_in_bin" class="anchor"></a><code><span class="keyword">val</span> open_in_bin : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Stdlib.in_channel</code></dt><dt class="spec value" id="val-open_out_bin"><a href="#val-open_out_bin" class="anchor"></a><code><span class="keyword">val</span> open_out_bin : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Stdlib.out_channel</code></dt><dt class="spec value" id="val-open_fd"><a href="#val-open_fd" class="anchor"></a><code><span class="keyword">val</span> open_fd : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>MinUnix.open_flag list</span> <span>&#45;&gt;</span> MinUnix.file_perm <span>&#45;&gt;</span> MinUnix.file_descr</code></dt><dt class="spec value" id="val-temp_file"><a href="#val-temp_file" class="anchor"></a><code><span class="keyword">val</span> temp_file : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-with_in"><a href="#val-with_in" class="anchor"></a><code><span class="keyword">val</span> with_in : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(Stdlib.in_channel <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-with_in_bin"><a href="#val-with_in_bin" class="anchor"></a><code><span class="keyword">val</span> with_in_bin : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(Stdlib.in_channel <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-with_out"><a href="#val-with_out" class="anchor"></a><code><span class="keyword">val</span> with_out : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(Stdlib.out_channel <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-with_out_bin"><a href="#val-with_out_bin" class="anchor"></a><code><span class="keyword">val</span> with_out_bin : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(Stdlib.out_channel <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span class="keyword">val</span> exists : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-getcwd"><a href="#val-getcwd" class="anchor"></a><code><span class="keyword">val</span> getcwd : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val</span> size : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-is_directory"><a href="#val-is_directory" class="anchor"></a><code><span class="keyword">val</span> is_directory : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_link"><a href="#val-is_link" class="anchor"></a><code><span class="keyword">val</span> is_link : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-remove"><a href="#val-remove" class="anchor"></a><code><span class="keyword">val</span> remove : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-rename"><a href="#val-rename" class="anchor"></a><code><span class="keyword">val</span> rename : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-stat"><a href="#val-stat" class="anchor"></a><code><span class="keyword">val</span> stat : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> MinUnix.stats</code></dt><dt class="spec value" id="val-lstat"><a href="#val-lstat" class="anchor"></a><code><span class="keyword">val</span> lstat : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> MinUnix.stats</code></dt></dl><div class="spec module" id="module-OP"><a href="#module-OP" class="anchor"></a><code><span class="keyword">module</span> <a href="OP/index.html">OP</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-copy_rec"><a href="#val-copy_rec" class="anchor"></a><code><span class="keyword">val</span> copy_rec : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-uncopy_rec"><a href="#val-uncopy_rec" class="anchor"></a><code><span class="keyword">val</span> uncopy_rec : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-find_in_path"><a href="#val-find_in_path" class="anchor"></a><code><span class="keyword">val</span> find_in_path : <span>string list</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>find_in_path path filename</code> searches a file in a list of directories.</p></dd></dl></details></div></div></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../FileSig/index.html#module-type-CONTENT_OPERATIONS">FileSig.CONTENT_OPERATIONS</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../FileSig/module-type-CONTENT_OPERATIONS/index.html#type-in_file">in_file</a> := <a href="index.html#type-t">t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../FileSig/module-type-CONTENT_OPERATIONS/index.html#type-out_file">out_file</a> := <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-in_file"><a href="#type-in_file" class="anchor"></a><code><span class="keyword">type</span> in_file</code></dt><dd><p>The type of a file from which we read: <code>in_channel</code> for <code>FileChannel</code>, <code>string</code> for <code>FileString</code> and <code>FileGen.t</code> for <code>FileGen</code>.</p></dd></dl><dl><dt class="spec type" id="type-out_file"><a href="#type-out_file" class="anchor"></a><code><span class="keyword">type</span> out_file</code></dt><dd><p>The type of a file to which we write: <code>out_channel</code> for <code>FileChannel</code>, <code>string</code> for <code>FileString</code> and <code>FileGen.t</code> for <code>FileGen</code>.</p></dd></dl><dl><dt class="spec value" id="val-read_file"><a href="#val-read_file" class="anchor"></a><code><span class="keyword">val</span> read_file : <a href="index.html#type-in_file">in_file</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>read_file file</code> returns the full content of <code>file</code>. If the file is opened, it is opened in binary mode, no conversion is applied.</p></dd></dl><dl><dt class="spec value" id="val-write_file"><a href="#val-write_file" class="anchor"></a><code><span class="keyword">val</span> write_file : <a href="index.html#type-out_file">out_file</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>write_file file content</code> creates file <code>file</code> with content <code>content</code>. If the file is opened, it is opened in binary mode, no conversion is applied.</p></dd></dl><dl><dt class="spec value" id="val-read_subfile"><a href="#val-read_subfile" class="anchor"></a><code><span class="keyword">val</span> read_subfile : <a href="index.html#type-in_file">in_file</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> string</code></dt><dd><p><code>read_subfile file pos len</code> returns a string containing <code>len</code> bytes read from file <code>file</code> at pos <code>pos</code>. If the file is opened, it is opened in binary mode. Raises <code>End_of_file</code> if the file is too short.</p></dd></dl><dl><dt class="spec value" id="val-read_lines"><a href="#val-read_lines" class="anchor"></a><code><span class="keyword">val</span> read_lines : <a href="index.html#type-in_file">in_file</a> <span>&#45;&gt;</span> <span>string array</span></code></dt><dd><p><code>read_lines file</code> returns the content of <code>file</code> as an array of lines. If the file is opened, it is opened in text mode.</p></dd></dl><dl><dt class="spec value" id="val-read_lines_to_list"><a href="#val-read_lines_to_list" class="anchor"></a><code><span class="keyword">val</span> read_lines_to_list : <a href="index.html#type-in_file">in_file</a> <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p><code>read_lines_to_list file</code> returns the content of <code>file</code> as a list of lines. If the file is opened, it is opened in text mode.</p></dd></dl><dl><dt class="spec value" id="val-write_lines"><a href="#val-write_lines" class="anchor"></a><code><span class="keyword">val</span> write_lines : <a href="index.html#type-out_file">out_file</a> <span>&#45;&gt;</span> <span>string array</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>write_lines file lines</code> creates the file <code>file</code> from an array of lines, using <code>FileChannel.output_line</code> for each line.</p></dd></dl><dl><dt class="spec value" id="val-write_lines_of_list"><a href="#val-write_lines_of_list" class="anchor"></a><code><span class="keyword">val</span> write_lines_of_list : <a href="index.html#type-out_file">out_file</a> <span>&#45;&gt;</span> <span>string list</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>write_lines file lines</code> creates the file <code>file</code> from a list of lines, using <code>FileChannel.output_line</code> for each line.</p></dd></dl><dl><dt class="spec value" id="val-read_sublines"><a href="#val-read_sublines" class="anchor"></a><code><span class="keyword">val</span> read_sublines : <a href="index.html#type-in_file">in_file</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>string array</span></code></dt><dd><p><code>read_sublines file pos len</code> returns at most <code>len</code> lines of the file <code>file</code>, starting at line <code>pos</code>. It differs from <code>read_subfile</code> in that it will not raise any exception if the file is too short. Note that it reads the file from beginning everytimes.</p></dd></dl><dl><dt class="spec value" id="val-read_sublines_to_list"><a href="#val-read_sublines_to_list" class="anchor"></a><code><span class="keyword">val</span> read_sublines_to_list : <a href="index.html#type-in_file">in_file</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p>Same as <code>read_sublines</code>, but returns a list of strings.</p></dd></dl><dl><dt class="spec value" id="val-iter_blocks"><a href="#val-iter_blocks" class="anchor"></a><code><span class="keyword">val</span> iter_blocks : <span>(EzCompat.Bytes.t <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="index.html#type-in_file">in_file</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter_blocks f file</code> reads the content of file <code>file</code>, and calls <code>f buffer len</code> on each chunk. The <code>buffer</code> is reused, and only the first <code>len</code> bytes are from the file. Chunks have a maximal size of 32768.</p></dd></dl><dl><dt class="spec value" id="val-iter_lines"><a href="#val-iter_lines" class="anchor"></a><code><span class="keyword">val</span> iter_lines : <span>(string <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="index.html#type-in_file">in_file</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter_lines f file</code> calls <code>f line</code> on all the lines <code>line</code> of the file <code>file</code>.</p></dd></dl><dl><dt class="spec value" id="val-iteri_lines"><a href="#val-iteri_lines" class="anchor"></a><code><span class="keyword">val</span> iteri_lines : <span>(int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="index.html#type-in_file">in_file</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iteri_lines f file</code> calls <code>f line_num line</code> on every line <code>line</code> of the file <code>file</code>, with <code>line_num</code> the line number, starting with line 0.</p></dd></dl><dl><dt class="spec value" id="val-copy_file"><a href="#val-copy_file" class="anchor"></a><code><span class="keyword">val</span> copy_file : <a href="index.html#type-in_file">in_file</a> <span>&#45;&gt;</span> <a href="index.html#type-out_file">out_file</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>copy_file src dst</code> copy all the content remaining in file <code>src</code> to file <code>dst</code>.</p></dd></dl></details></div></div></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../FileSig/index.html#module-type-DIRECTORY_OPERATIONS">FileSig.DIRECTORY_OPERATIONS</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../FileSig/module-type-DIRECTORY_OPERATIONS/index.html#type-t">t</a> := <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>Type of a filename. It is <code>string</code> in <code>FileString</code> and <code>FileGen.t</code> in <code>FileGen</code>.</p></dd></dl><dl><dt class="spec type" id="type-selector"><a href="#type-selector" class="anchor"></a><code><span class="keyword">type</span> selector</code></dt><dd><p>Type of the value used to create filters when iterating on files and directories.</p></dd></dl><dl><dt class="spec exception" id="exception-NotADirectory"><a href="#exception-NotADirectory" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">NotADirectory</span> <span class="keyword">of</span> <a href="index.html#type-t">t</a></code></dt><dd><p>This exception is raised when one of the following functions is called with a non-directory argument</p></dd></dl><dl><dt class="spec value" id="val-make_dir"><a href="#val-make_dir" class="anchor"></a><code><span class="keyword">val</span> make_dir : <span>?&#8288;mode:int</span> <span>&#45;&gt;</span> <span>?&#8288;p:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>make_dir ?mode ?p filename</code> creates a directory <code>filename</code>, if it does not already exist. It fails with <code>NotADirectory</code> if the file already exists, but is not a directory. The <code>mode</code> argument is the Unix permissions (0o755 by default). The <code>p</code> argument controls whether parents directories should be created as well, if they don't exist, instead of failing.</p></dd></dl><dl><dt class="spec value" id="val-onedir"><a href="#val-onedir" class="anchor"></a><code><span class="keyword">val</span> onedir : <a href="index.html#type-selector">selector</a></code></dt><dt class="spec value" id="val-recdir"><a href="#val-recdir" class="anchor"></a><code><span class="keyword">val</span> recdir : <a href="index.html#type-selector">selector</a></code></dt><dt class="spec value" id="val-remove_dir"><a href="#val-remove_dir" class="anchor"></a><code><span class="keyword">val</span> remove_dir : <span>?&#8288;all:bool</span> <span>&#45;&gt;</span> <span>?&#8288;glob:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>remove_dir ?all filename</code> removes directory <code>filename</code>, or complains the <code>NotADirectory</code> if it does not exist. The <code>all</code> argument controls whether the function should recursively remove all files and sub-directories included as well. If <code>glob</code> is specified, it is called to select files to remove based on their basename, and the directories are not deleted even if <code>all</code> is <code>true</code>.</p></dd></dl><dl><dt class="spec value" id="val-select"><a href="#val-select" class="anchor"></a><code><span class="keyword">val</span> select : <span>?&#8288;deep:bool</span> <span>&#45;&gt;</span> <span>?&#8288;dft:<span>[ `After <span>| `Before</span> ]</span></span> <span>&#45;&gt;</span> <span>?&#8288;glob:string</span> <span>&#45;&gt;</span> <span>?&#8288;path:string</span> <span>&#45;&gt;</span> <span>?&#8288;ignore:string</span> <span>&#45;&gt;</span> <span>?&#8288;kinds:<span>Unix.file_kind list</span></span> <span>&#45;&gt;</span> <span>?&#8288;filter:<span>(bool <span>&#45;&gt;</span> string <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <span>?&#8288;follow_links:bool</span> <span>&#45;&gt;</span> <span>?&#8288;error:<span>(exn <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-selector">selector</a></code></dt><dd><p><code>select ?deep ?dft ?glob ?filter_rec ?filter_fun ?follow_links
     ?error ()</code> creates a selctor to customize a file iterator.</p><p>The <code>deep</code> and <code>dft</code> arguments controls whether function should recurse (false by default) in sub-directories. If <code>deep</code> is <code>true</code>, and <code>~dft</code> is not specified, the files are listed in breadth-first mode (<code>a,b,a/x,b/x,a/x/y</code> for example). If <code>~dft</code> is <code>`Before</code>, the files are listed in depth-first mode, and the ancestors are before their children. If <code>~dft</code> is <code>`After</code>, the are after their children.</p><p>The <code>glob</code>, <code>path</code> and <code>ignore</code> arguments can be used to filter the files with regular expressions. <code>glob</code> is used to choose the files to keep based on their basenames, it is not used for the recursion itself. <code>path</code> is used to choose the files to keep based on the path, it is not used for the recursion itself. <code>ignore</code> is used to choose the files to ignore, based on their paths, both during the iteration and the recursion.</p><p>The <code>kinds</code> argument can be used to restrict the files to the ones of a particular kind.</p><p>The <code>filter</code> argument is used to select the files to keep. <code>filter for_rec path</code> should return <code>true</code> if the file is ok, <code>false</code> otherwise. <code>for_rec</code> is <code>true</code> if <code>filter</code> is called to check a directory for recursion, <code>false</code> if it is called for the iteration.</p><p>The <code>follow_links</code> argument is used to decide if a link to directory should be followed (when <code>deep</code> is also set).</p><p>The <code>error</code> argument is called when an error occurs, with <code>error
     exn filename</code>. The default behavior is to ignore errors.</p></dd></dl><dl><dt class="spec value" id="val-read_dir"><a href="#val-read_dir" class="anchor"></a><code><span class="keyword">val</span> read_dir : <span>?&#8288;select:<a href="index.html#type-selector">selector</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string array</span></code></dt><dd><p><code>read_dir ?select dir</code> returns the files contained in the directory <code>dir</code>, recursively. Filenames start from the root of the given directory, i.e. a full filename would be <code>dir / file</code>.</p><p>In a directory, files are sorted in lexicographical order of their names.</p></dd></dl><dl><dt class="spec value" id="val-read_dir_to_list"><a href="#val-read_dir_to_list" class="anchor"></a><code><span class="keyword">val</span> read_dir_to_list : <span>?&#8288;select:<a href="index.html#type-selector">selector</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p>Same as <code>read_dir</code>, but returns a list instead of an array</p></dd></dl><dl><dt class="spec value" id="val-iter_dir"><a href="#val-iter_dir" class="anchor"></a><code><span class="keyword">val</span> iter_dir : <span>?&#8288;select:<a href="index.html#type-selector">selector</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>f:<span>(string <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as <code>read_dir</code>, but calls a function on every file and directory. It is not equivalent to using <code>read_dir</code> and then itering on the result, as <code>iter_dir</code> the function is called during the traversal, not after, so concurrent modifications to the directory might become visible.</p></dd></dl><dl><dt class="spec value" id="val-iterator"><a href="#val-iterator" class="anchor"></a><code><span class="keyword">val</span> iterator : <span>?&#8288;select:<a href="index.html#type-selector">selector</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span>string option</span></code></dt><dd><p><code>iterator ?select dir</code> creates an iterator on directory <code>dir</code>. The iterator is a function that returns <code>None</code> when finished, or <code>Some file</code> with the next file to iter on.</p></dd></dl><aside><p><code>make_select f</code> transforms <code>f</code>, a function that takes an optional selector, into a function that builds the selector on the fly.</p><p>For example: let () = EzFile.make_select EzFile.iter_dir ~deep:true ~f:(fun path -&gt; ...) dirname</p><p>which is equivalent to: let () = let select = EzFile.select ~deep:true () in EzFile.iter_dir ~select ~f:(fun path -&gt; ...) dirname</p></aside><dl><dt class="spec value" id="val-make_select"><a href="#val-make_select" class="anchor"></a><code><span class="keyword">val</span> make_select : <span>(<span>?&#8288;select:<a href="index.html#type-selector">selector</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span>?&#8288;deep:bool</span> <span>&#45;&gt;</span> <span>?&#8288;dft:<span>[ `After <span>| `Before</span> ]</span></span> <span>&#45;&gt;</span> <span>?&#8288;glob:string</span> <span>&#45;&gt;</span> <span>?&#8288;path:string</span> <span>&#45;&gt;</span> <span>?&#8288;ignore:string</span> <span>&#45;&gt;</span> <span>?&#8288;kinds:<span>Unix.file_kind list</span></span> <span>&#45;&gt;</span> <span>?&#8288;filter:<span>(bool <span>&#45;&gt;</span> string <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <span>?&#8288;follow_links:bool</span> <span>&#45;&gt;</span> <span>?&#8288;error:<span>(exn <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-mkdir"><a href="#val-mkdir" class="anchor"></a><code><span class="keyword">val</span> mkdir : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>mkdir filename mode</code> simply creates the directory <code>filename</code> with permissions <code>mode</code>.</p></dd></dl><dl><dt class="spec value" id="val-readdir"><a href="#val-readdir" class="anchor"></a><code><span class="keyword">val</span> readdir : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string array</span></code></dt><dd><p><code>readdir filename</code> returns the files contained in directory <code>filename</code> as an array of strings. The strings are sorted in lexicographical order.</p></dd></dl><dl><dt class="spec value" id="val-rmdir"><a href="#val-rmdir" class="anchor"></a><code><span class="keyword">val</span> rmdir : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>rmdir filename</code> removes directory <code>filename</code>, or fails if it does not exist or is not a directory.</p></dd></dl></details></div></div></div></details></div></div></div></details></div></div></div><div class="spec module" id="module-String"><a href="#module-String" class="anchor"></a><code><span class="keyword">module</span> String = <a href="../FileString/index.html">FileString</a></code></div><div class="spec module" id="module-Abstract"><a href="#module-Abstract" class="anchor"></a><code><span class="keyword">module</span> Abstract = <a href="../FileAbstract/index.html">FileAbstract</a></code></div><div class="spec module" id="module-Channel"><a href="#module-Channel" class="anchor"></a><code><span class="keyword">module</span> Channel = <a href="../FileChannel/index.html">FileChannel</a></code></div></div></body></html>